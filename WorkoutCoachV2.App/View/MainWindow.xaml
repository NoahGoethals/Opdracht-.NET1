<!-- Hoofdvenster:
     - Topbar met begroeting, Users (alleen voor Admin) en Logout
     - Tabs voor Exercises, Workouts, Sessions, Overzicht & Statistiek
     - Zichtbaarheid van tabbladen is rolgebaseerd via MainViewModel flags -->

<Window x:Class="WorkoutCoachV2.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WorkoutCoach"
        Height="520"
        Width="960"
        WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <!-- Converter om bool → Visibility te doen (Collapsed bij false) -->
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>

    <DockPanel LastChildFill="True">
        <!-- Bovenbalk met begroeting, Users (admin) en Logout -->
        <Grid DockPanel.Dock="Top" Margin="8" VerticalAlignment="Center">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0"
                       Text="{Binding Greeting}"
                       FontWeight="Bold"
                       VerticalAlignment="Center"/>

            <Button Grid.Column="1"
                    Content="Users"
                    Width="80"
                    Margin="8,0,0,0"
                    Visibility="{Binding CanSeeUserAdmin, Converter={StaticResource BoolToVis}}"
                    Click="OpenUsers_Click"/>

            <Button Grid.Column="2"
                    Content="Logout"
                    Width="80"
                    Margin="8,0,0,0"
                    Click="Logout_Click"/>
        </Grid>

        <!-- Rolgebaseerde navigatie via TabControl -->
        <TabControl>
            <TabItem Header="Exercises"
                     Visibility="{Binding CanSeeExercises, Converter={StaticResource BoolToVis}}">
                <!-- Wordt gevuld vanuit code-behind met ExercisesView -->
                <ContentControl x:Name="ExercisesHost"/>
            </TabItem>

            <TabItem Header="Workouts"
                     Visibility="{Binding CanSeeWorkouts, Converter={StaticResource BoolToVis}}">
                <!-- Wordt gevuld vanuit code-behind met WorkoutsView -->
                <ContentControl x:Name="WorkoutsHost"/>
            </TabItem>

            <TabItem Header="Sessions"
                     Visibility="{Binding CanSeeSessions, Converter={StaticResource BoolToVis}}">
                <!-- Wordt gevuld vanuit code-behind met SessionsView -->
                <ContentControl x:Name="SessionsHost"/>
            </TabItem>

            <TabItem Header="Overzicht &amp; Statistiek"
                     Visibility="{Binding CanSeeStats, Converter={StaticResource BoolToVis}, FallbackValue=Visible}">
                <!-- Wordt gevuld vanuit code-behind met StatsView -->
                <ContentControl x:Name="StatsHost"/>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>
