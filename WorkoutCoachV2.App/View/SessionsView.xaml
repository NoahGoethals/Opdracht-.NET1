<UserControl x:Class="WorkoutCoachV2.App.View.SessionsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Margin="8">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="16" />
            <ColumnDefinition Width="1.2*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
            <Button Content="Vernieuwen" Width="110" Margin="0,0,8,0"
                    Command="{Binding RefreshCmd}"/>
            <Button Content="Nieuw" Width="110" Margin="0,0,8,0"
                    Command="{Binding AddSessionCmd}"/>
            <Button Content="Export Sessions" Width="130" Margin="0,0,8,0"
                    Command="{Binding ExportSessionsCmd}"/>
            <Button Content="Import Sessions" Width="130"
                    Command="{Binding ImportSessionsCmd}"/>
        </StackPanel>

        <StackPanel Grid.Row="0" Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <TextBlock Text="Van:" VerticalAlignment="Center" Margin="0,0,6,0"/>
            <DatePicker SelectedDate="{Binding FromDate, Mode=TwoWay}" Width="140" Margin="0,0,12,0"/>
            <TextBlock Text="Tot:" VerticalAlignment="Center" Margin="0,0,6,0"/>
            <DatePicker SelectedDate="{Binding ToDate, Mode=TwoWay}" Width="140" Margin="0,0,12,0"/>
            <Button Content="Bereken" Width="110" Command="{Binding CalcStatsCmd}"/>
        </StackPanel>

        <DataGrid Grid.Row="2" Grid.Column="0"
                  ItemsSource="{Binding Items}"
                  SelectedItem="{Binding Selected, Mode=TwoWay}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False" CanUserDeleteRows="False"
                  IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Titel" Binding="{Binding Title}" Width="*"/>
                <DataGridTextColumn Header="Datum" Binding="{Binding Date}" Width="160" />
                <DataGridTextColumn Header="Sets"  Binding="{Binding SetCount}" Width="80" />
            </DataGrid.Columns>
        </DataGrid>

        <GroupBox Grid.Row="2" Grid.Column="2" Header="Statistiek" Padding="8">
            <DockPanel>
                <TextBlock DockPanel.Dock="Top"
                           Text="{Binding WeekVolume, StringFormat=Weekvolume: {0}}"
                           FontWeight="Bold" Margin="0,0,0,8"/>

                <DataGrid x:Name="StatsGrid"
                          ItemsSource="{Binding BestSets}"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False" CanUserDeleteRows="False"
                          IsReadOnly="False">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Oefening" Binding="{Binding ExerciseName}" Width="*" />
                        <DataGridTextColumn Header="Gewicht"  Binding="{Binding Weight}" Width="90" />
                        <DataGridTextColumn Header="Reps"     Binding="{Binding Reps}" Width="70"  />
                        <DataGridTextColumn Header="Datum"    Binding="{Binding Date}" Width="160" />
                        <DataGridCheckBoxColumn Header="PR"
                            Binding="{Binding IsPr, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Width="60"/>
                    </DataGrid.Columns>
                </DataGrid>
            </DockPanel>
        </GroupBox>
    </Grid>
</UserControl>
