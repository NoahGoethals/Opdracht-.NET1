@using Microsoft.Extensions.Localization
@inject IStringLocalizer<SharedResource> L
@model WorkoutCoachV2.Model.Models.Session

@{
    // Zet de paginatitel via vertalingen.
    ViewData["Title"] = L["Se_Details_Title"];
}

<h1>@L["Se_Details_H1"]</h1>

<hr />

<!-- Basisinfo van de sessie tonen. -->
<dl class="row">
    <dt class="col-sm-2">@L["Se_Field_Title"]</dt>
    <dd class="col-sm-10">@Model.Title</dd>

    <dt class="col-sm-2">@L["Se_Field_Date"]</dt>
    <dd class="col-sm-10">@Model.Date.ToString("d")</dd>

    <dt class="col-sm-2">@L["Se_Field_Description"]</dt>
    <dd class="col-sm-10">@Model.Description</dd>
</dl>

<hr />

<!-- Sets-sectie. -->
<h3>@L["Se_Details_Sets"]</h3>

@if (Model.Sets == null || !Model.Sets.Any())
{
    <!-- Als er geen sets zijn, toon een melding. -->
    <p class="text-muted">@L["Se_Details_NoSets"]</p>
}
else
{
    <!-- Tabel met sets, gesorteerd op SetNumber. -->
    <table class="table">
        <thead>
            <tr>
                <th style="width:80px;">#</th>
                <th>@L["Common_Exercise"]</th>
                <th style="width:140px;">@L["Common_Reps"]</th>
                <th style="width:180px;">@L["Common_Weight"]</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var s in Model.Sets.OrderBy(x => x.SetNumber))
            {
                <tr>
                    <td>@s.SetNumber</td>
                    <td>@(s.Exercise?.Name ?? "-")</td>
                    <td>@s.Reps</td>
                    <td>@($"{s.Weight:0.##} kg")</td>
                </tr>
            }
        </tbody>
    </table>
}

<!-- Links naar edit en terug naar lijst. -->
<div class="mt-3">
    <a asp-action="Edit" asp-route-id="@Model.Id">@L["Common_Edit"]</a>
    |
    <a asp-action="Index">@L["Common_BackToList"]</a>
</div>
