@model WorkoutCoachV2.Web.Models.SessionCreateFromWorkoutsViewModel
@inject Microsoft.Extensions.Localization.IStringLocalizer<SharedResource> L

@{
    // Titel van de pagina via vertalingen.
    ViewData["Title"] = L["Se_CreateFromWorkouts_Title"];
}

<h1>@L["Se_CreateFromWorkouts_H1"]</h1>

<hr />
<div class="row">
    <div class="col-md-6">
        <!-- Formulier dat een sessie aanmaakt op basis van geselecteerde workouts (POST). -->
        <form asp-action="CreateFromWorkouts" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <div class="form-group mb-3">
                <!-- Titel input + validatie. -->
                <label asp-for="Title" class="form-label">@L["Se_Field_Title"]</label>
                <input asp-for="Title" class="form-control" />
                <span asp-validation-for="Title" class="text-danger"></span>
            </div>

            <div class="form-group mb-3">
                <!-- Datum input + validatie. -->
                <label asp-for="Date" class="form-label">@L["Se_Field_Date"]</label>
                <input asp-for="Date" class="form-control" />
                <span asp-validation-for="Date" class="text-danger"></span>
            </div>

            <div class="form-group mb-4">
                <!-- Beschrijving input + validatie. -->
                <label asp-for="Description" class="form-label">@L["Se_Field_Description"]</label>
                <textarea asp-for="Description" class="form-control"></textarea>
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>

            <!-- Lijst van workouts met checkboxen, gebonden aan Model.Workouts[i].IsSelected. -->
            <h4>@L["Se_FromWorkouts_ChooseWorkouts"]</h4>
            <table class="table">
                <thead>
                    <tr>
                        <th>@L["Se_FromWorkouts_Select"]</th>
                        <th>@L["Se_FromWorkouts_Workout"]</th>
                    </tr>
                </thead>
                <tbody>
                    @for (var i = 0; i < Model.Workouts.Count; i++)
                    {
                        <tr>
                            <td>
                                <!-- Checkbox die bepaalt of deze workout gekozen is. -->
                                <input asp-for="Workouts[i].IsSelected" class="form-check-input" />
                                <!-- Hidden velden om id/naam mee te sturen bij postback. -->
                                <input asp-for="Workouts[i].WorkoutId" type="hidden" />
                                <input asp-for="Workouts[i].WorkoutTitle" type="hidden" />
                            </td>
                            <td>@Model.Workouts[i].WorkoutTitle</td>
                        </tr>
                    }
                </tbody>
            </table>

            <div class="form-group mt-3">
                <!-- Aanmaken of annuleren. -->
                <button type="submit" class="btn btn-primary">@L["Se_FromWorkouts_CreateBtn"]</button>
                <a asp-action="Index" class="btn btn-secondary">@L["Common_Cancel"]</a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{
        // Client-side validatie scripts.
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
